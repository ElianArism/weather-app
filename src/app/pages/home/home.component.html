<main class="container" #containerRef>
  <header class="search-bar-container">
    <form
      class="search-location-form"
      [formGroup]="addressForm"
      (ngSubmit)="onSubmit()"
    >
      <input
        class="location-input"
        type="text"
        placeholder="Enter location"
        formControlName="address"
      />
      <button class="search-btn" type="submit">
        <img src="../../../assets/search-interface-symbol.png" alt="" />
      </button>
    </form>
  </header>

  <h2 *ngIf="addressForm.value && dailyWeatherForecast$()">
    {{ addressForm.value.address }} - {{ dailyWeatherForecast$()?.day }}
  </h2>

  <section class="home-section-container">
    <article class="main-card-container" *ngIf="dailyWeatherForecast$()">
      <div class="main-weather-card glass-effect">
        <picture class="weather-img-container">
          <img src="../../../assets/cloud.png" alt="Cloudy" />
        </picture>

        <div class="weather-details">
          <span class="current-temperature"
            >{{ dailyWeatherForecast$()?.temperatureMean }}°</span
          >

          <div class="h-l-temperature">
            <span>L: {{ dailyWeatherForecast$()?.temperatureMin }}°</span> -
            <span>H: {{ dailyWeatherForecast$()?.temperatureMax }}°</span>
          </div>

          <div class="other-details">
            <div class="humidity-details">
              <p>{{ dailyWeatherForecast$()?.humidity }}%</p>
              <picture class="icon-container">
                <img src="../../../assets/humidity.png" alt="humidity" />
              </picture>
            </div>
            <div class="wind-details">
              <p>{{ dailyWeatherForecast$()?.windSpeed }}km/h</p>
              <picture class="icon-container">
                <img src="../../../assets/wind.png" alt="wind" />
              </picture>
            </div>
            <div class="rain-details">
              <p>{{ dailyWeatherForecast$()?.precipitationProbability }}%</p>
              <picture class="icon-container">
                <img src="../../../assets/umbrella.png" alt="umbrella" />
              </picture>
            </div>
          </div>
        </div>
      </div>
    </article>

    <article class="weather-carrousel">
      @for (day of days; track day) {
      <div class="weather-carrousel-card glass-effect">
        <span>{{ day | titlecase }}</span>
      </div>
      }
    </article>
  </section>

  <footer class="footer">
    <a href="https://www.linkedin.com/in/elian-arismendi/">
      &copy; Elian Arismendi
    </a>
  </footer>
</main>
